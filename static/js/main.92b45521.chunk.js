(this.webpackJsonpmenu=this.webpackJsonpmenu||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(20),r=c.n(a),i=(c(36),c(37),c(51)),o=c(52),l=c(53),j=c(54),u=c(55),s=c(18),d=c(11);var b=function(){return Object(d.c)((function(e){return e.menuReducer})).menudata.filter((function(e){return e.counter>0}))},O=c(2);var h=function(){var e=b();return Object(O.jsx)("div",{children:Object(O.jsxs)(i.a,{color:"dark",dark:!0,expand:"lg",className:"d-flex justify-content-around",children:[Object(O.jsx)(o.a,{children:"Shopping App"}),Object(O.jsxs)(l.a,{navbar:!0,children:[Object(O.jsx)(j.a,{children:Object(O.jsxs)(s.b,{to:"/cart",className:"nav-link",children:["Cart"," ",Object(O.jsx)(u.a,{color:"primary",pill:!0,children:e.reduce((function(e,t){return t.counter+e}),0)})]})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(s.b,{to:"/",className:"nav-link",children:"Home"})})]})]})})},m=c(9),f=c(56),x=c(57),p=c(58),y=c(59),g=c(60),v=c(62),C=c(26),E=c.n(C),N=c(5),k=c(14),T=c(30),R=function(e){return function(t,c){t({type:"SET_CATEGORY",payload:{state:c().menuReducer.menudata,category:e}})}},_=function(e){return function(t,c){t({type:"ADD_COUNTER",payload:e})}},w=function(e){return function(t,c){t({type:"SUBTRACT_COUNTER",payload:e})}};var M=function(){var e=Object(d.b)(),t=b();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.a,{children:t.map((function(t){return Object(O.jsx)(x.a,{children:Object(O.jsxs)(p.a,{className:"m-4",children:[Object(O.jsx)(y.a,{className:"mb-4",children:t.title}),Object(O.jsxs)(f.a,{fluid:!0,className:"d-flex align-items-center justify-content-between p-0",children:[0===t.counter?Object(O.jsx)(u.a,{color:"light",children:Object(O.jsxs)("h1",{children:["$ ",t.price]})}):Object(O.jsxs)(u.a,{color:"light",children:["$ ",Math.round(t.price)*t.counter]}),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(v.a,{color:"primary",id:t.title,onClick:function(t){return function(t){e(w(t.target.id))}(t)},children:"-"}),Object(O.jsx)(v.a,{disabled:!0,color:"primary",children:t.counter}),Object(O.jsx)(v.a,{color:"primary",id:t.title,onClick:function(t){return function(t){console.log(t),e(_(t.target.id))}(t)},children:"+"})]}),Object(O.jsx)(v.a,{id:t.title,color:"danger",onClick:function(t){return e((c=t.target.id,function(e,t){e({type:"REMOVE_ITEM_COUNTER",payload:c})}));var c},children:"remove"})]})]})},t.title)}))}),Object(O.jsx)(f.a,{children:Object(O.jsxs)(f.a,{className:"d-flex flex-row justify-content-between m-2",children:[Object(O.jsxs)(v.a,{color:"secondary",disabled:!0,children:["Total -"," $ ",t.reduce((function(e,t){return Math.round(t.price)*t.counter+e}),0)]}),t.length>0&&Object(O.jsxs)("div",{children:[Object(O.jsx)(v.a,{color:"danger",className:"mr-4",onClick:function(t){return e((function(e,t){e({type:"RESET",payload:""})}))},children:"Empty Cart"}),Object(O.jsx)(v.a,{color:"primary",className:"mr-3",children:"Checkout"})]})]})})]})};var U=function(){var e=Object(d.b)();return Object(O.jsx)(f.a,{className:"w-25 m-4",children:Object(O.jsxs)(x.a,{children:[Object(O.jsx)(p.a,{action:!0,onClick:function(){return e(R("all"))},children:"All"}),Object(O.jsx)(p.a,{action:!0,onClick:function(){return e(R("fruit"))},children:"Fruit"}),Object(O.jsx)(p.a,{action:!0,onClick:function(){return e(R("vegetable"))},children:"Vegetable"}),Object(O.jsx)(p.a,{action:!0,onClick:function(){return e(R("dairy"))},children:"Dairy"}),Object(O.jsx)(p.a,{action:!0,onClick:function(){return e(R("bakery"))},children:"Bakery"}),Object(O.jsx)(p.a,{action:!0,onClick:function(){return e(R("vegan"))},children:"Vegan"})]})})},A=c(61);var S=function(){var e=Object(d.c)((function(e){return e.menuReducer})),t=e.category;return"all"===t?e.menudata:e.menudata.filter((function(e){return e.type===t}))};var D=function(){var e=Object(d.b)(),t=S(),c=Object(d.c)((function(e){return e.menuReducer}));function a(t){e(_(t.target.id))}return Object(n.useEffect)((function(){!0===c.loading&&e(function(){var e=Object(T.a)(E.a.mark((function e(t,c){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://menu-server-json.herokuapp.com/menu");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,r=Object(k.a)(a.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{counter:0})}))),t({type:"FETCH_MENU",payload:r});case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())}),[c.loading,e]),Object(O.jsx)(f.a,{children:t.map((function(t){return Object(O.jsx)(x.a,{children:Object(O.jsxs)(p.a,{className:"m-4",children:[Object(O.jsx)(y.a,{className:"mb-4",children:t.title}),Object(O.jsxs)(f.a,{className:"d-flex flex-column align-items-start ml-0 pl-0",children:[Object(O.jsx)(u.a,{color:"secondary",className:"mb-4",children:t.type}),Object(O.jsx)(A.a,{className:"mb-4",children:t.description}),Object(O.jsxs)(f.a,{fluid:!0,className:"d-flex align-items-center justify-content-between p-0",children:[0===t.counter?Object(O.jsxs)(u.a,{color:"light",children:["$ ",Math.round(t.price)]}):Object(O.jsxs)(u.a,{color:"light",children:["$ ",Math.round(t.price)*t.counter]}),t.counter<=0?Object(O.jsx)(v.a,{color:"primary",id:t.title,onClick:function(e){return a(e)},children:"Add to cart"}):Object(O.jsxs)(g.a,{children:[Object(O.jsx)(v.a,{color:"primary",id:t.title,onClick:function(t){return function(t){e(w(t.target.id))}(t)},children:"-"}),Object(O.jsx)(v.a,{disabled:!0,color:"primary",children:t.counter}),Object(O.jsx)(v.a,{color:"primary",id:t.title,onClick:function(e){return a(e)},children:"+"})]})]})]})]})},t.title)}))})};var $=function(){return Object(O.jsxs)(f.a,{className:"d-flex flex-row m-4",children:[Object(O.jsx)(U,{}),Object(O.jsx)(D,{})]})};var B=function(){return Object(O.jsxs)(s.a,{children:[Object(O.jsx)(h,{}),Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{path:"/cart",children:Object(O.jsx)(M,{})}),Object(O.jsx)(m.a,{path:"/",children:Object(O.jsx)($,{})})]})]})},F=c(16),V={loading:!0,menudata:[],category:"all"},H=Object(F.c)({menuReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MENU":return console.log(t.payload),Object(N.a)(Object(N.a)({},e),{},{loading:!1,menudata:Object(k.a)(t.payload),category:"all"});case"SET_CATEGORY":return Object(N.a)(Object(N.a)({},e),{},{loading:!1,menudata:t.payload.state,category:t.payload.category});case"ADD_COUNTER":var c=Object(k.a)(e.menudata.map((function(e){return e.title===t.payload?Object(N.a)(Object(N.a)({},e),{},{counter:e.counter+1}):Object(N.a)({},e)})));return Object(N.a)(Object(N.a)({},e),{},{loading:!1,menudata:Object(k.a)(c),category:e.category});case"SUBTRACT_COUNTER":var n=Object(k.a)(e.menudata.map((function(e){return e.title===t.payload&&e.counter>0?Object(N.a)(Object(N.a)({},e),{},{counter:e.counter-1}):Object(N.a)({},e)})));return Object(N.a)(Object(N.a)({},e),{},{loading:!1,menudata:Object(k.a)(n),category:e.category});case"REMOVE_ITEM_COUNTER":var a=Object(k.a)(e.menudata.map((function(e){return e.title===t.payload?Object(N.a)(Object(N.a)({},e),{},{counter:0}):Object(N.a)({},e)})));return Object(N.a)(Object(N.a)({},e),{},{loading:!1,menudata:Object(k.a)(a),category:e.category});case"RESET":var r=Object(k.a)(e.menudata.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{counter:0})})));return Object(N.a)(Object(N.a)({},e),{},{loading:!1,menudata:Object(k.a)(r),category:e.category});default:return V}}}),I=c(31),G=Object(F.d)(H,Object(F.a)(I.a));c(49);r.a.render(Object(O.jsx)(d.a,{store:G,children:Object(O.jsx)(B,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.92b45521.chunk.js.map